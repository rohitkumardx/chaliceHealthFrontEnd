<div class="forgot-password-container border border-info"
    style=" background: linear-gradient(135deg, #83c0b1, #96c0a8, #cbbe91, #e6bf84);">
    <div class="row w-100 ">
        <div class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center load p-5">
            <div class="card p-5">
                
                            <div class="pt-3 cursor" >
                              <img (click)="redirectToHomePage()" src="../../../../assets/svg/homepage/Chalice_Health_Logo.png" width="200px" alt="">
                            </div>
                         
                          
                            
                                <h2 class="pb-4">Set Password</h2>
                                <div class="card-body d-flex flex-column align-items-center">
                                <div class="input-container text-start" style="max-width: 23rem; width: 100%;">
                                        
                                <form (keydown.enter)="passwordResetFormSubmit()" [formGroup]="passwordResetForm">
                                    
                                        <!-- New Password -->
                                        <label for="password" class="ms-0">New Password</label>
                                        <div class="position-relative">
                                            <input class="form-control form-control-sm" 
                                                type="{{ hidePassword ? 'password' : 'text' }}"
                                                formControlName="password"
                                                [ngClass]="{'is-invalid': passwordResetForm.get('password')?.invalid && passwordResetForm.get('password')?.touched}" />
                                            <i class="toggle-password-icon fas position-absolute  me-2 mt-2"  style="right: 0px!important; top:10px!important;"
                                                [ngClass]="{ 'fa-eye': !hidePassword, 'fa-eye-slash': hidePassword }"
                                                (click)="togglePasswordVisibility()"></i>
                                        </div>
                            
                                        <!-- Password Validation Messages -->
                                        <div class="invalid-feedback d-block"
                                            *ngIf="passwordResetForm.get('password')?.touched && passwordResetForm.get('password')?.hasError('required')">
                                            <div>Password is required.</div>
                                        </div>
                                        <div class="invalid-feedback d-block"
                                            *ngIf="passwordResetForm.get('password')?.touched && passwordResetForm.get('password')?.hasError('invalidPasswordPattern')">
                                            <div>Password must contain:</div>
                                            <ul>
                                                <li>A capital letter</li>
                                                <li>A symbol like &#64;, #, or $</li>
                                                <li>At least 8 characters long</li>
                                            </ul>
                                        </div>  
                            
                                        <!-- Confirm Password -->
                                        <div class="mt-4 text-start">
                                            <label for="confirm-password" class="ms-0">Confirm Password</label>
                                            <div class="position-relative">
                                                <input class="form-control form-control-sm"
                                                    type="{{ hidePassword1 ? 'password' : 'text' }}"
                                                    formControlName="confirmPassword"
                                                    [ngClass]="{'is-invalid': passwordResetForm.get('confirmPassword')?.invalid && passwordResetForm.get('confirmPassword')?.touched}" />
                                                <i class="toggle-password-icon1 fas position-absolute  me-2 mt-2" style="right: 0px!important; top: 12px!important;"
                                                    [ngClass]="{ 'fa-eye': !hidePassword1, 'fa-eye-slash': hidePassword1 }"
                                                    (click)="toggleConfirmPasswordVisibility()"></i>
                                            </div>
                            
                                            <!-- Confirm Password Validation Messages -->
                                            <div class="invalid-feedback d-block"
                                                *ngIf="passwordResetForm.get('confirmPassword')?.touched && passwordResetForm.get('confirmPassword')?.hasError('required')">
                                                <div>Confirm password is required.</div>
                                            </div>
                                            <div class="invalid-feedback d-block"
                                                *ngIf="passwordResetForm.get('confirmPassword')?.hasError('passwordsDoNotMatch') && passwordResetForm.get('confirmPassword')?.touched">
                                                <div>Password mismatch.</div>
                                            </div>
                                        </div>
                            
                                        <!-- Submit Button -->
                                        <button type="button" class="btn btn-primary w-100 mt-4"
                                            [disabled]="passwordResetForm.invalid" 
                                            (click)="passwordResetFormSubmit()">
                                            <span *ngIf="!loading">Submit</span>
                                            <span *ngIf="loading">Submitting...</span>
                                        </button>
                                 
                                </form>
                            </div>
                            </div>
                                <!-- Back to Login -->
                                <div class="mt-5">
                                    <a (click)="navigateToLogin()">Back to Login</a>
                                </div>

                            
            </div>
        </div>
        <div class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center ">
            <img src="../../../../assets/svg/homepage/g1.png" width="600px" alt="" srcset="">
        </div>
    </div>
</div>